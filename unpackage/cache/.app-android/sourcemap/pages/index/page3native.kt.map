{"version":3,"sources":["pages/index/page3native.uvue"],"sourcesContent":["<template>\n  <view>\n    <button @click=\"connect\">连接控制器</button>\n    <button @click=\"readData\">读取寄存器</button>\n    <button @click=\"writeData\">写入寄存器</button>\n    <text>{{ data }}</text>\n  </view>\n</template>\n\n<script lang=\"ts\">\nimport ModbusTCPClient from '@/uni_modules/my-test-plugin';\n\nexport default {\n  data() {\n    return {\n      client: null,\n      data: ''\n    };\n  },\n  onLoad() {\n    this.client = new ModbusTCPClient('192.168.1.100', 502); // 替换为实际控制器 IP 和端口\n  },\n  methods: {\n    connect() {\n      this.client.connect();\n    },\n    readData() {\n      this.client.readHoldingRegisters(40001, 1, (result, error) => {\n        if (result) {\n          this.data = `读取结果: ${result.join(', ')}`;\n        } else {\n          this.data = `读取失败: ${error}`;\n        }\n      });\n    },\n    writeData() {\n      this.client.writeRegister(40001, 123, (success, error) => {\n        if (success) {\n          this.data = '写入成功';\n        } else {\n          this.data = `写入失败: ${error}`;\n        }\n      });\n    }\n  }\n};\n</script>"],"names":[],"mappings":";;;;;;;;;;;;;AAUA,OAA4B,4BAA8B,IAAnD,eAAmD;AAErD;;eAOH,sBAAM;YACJ,IAAI,CAAC,MAAK,GAAI,AAAI,gBAAgB,iBAAiB,GAAG;QACxD;;;;;;;eApBA,IAKO,QAAA,IAAA,EAAA;YAJL,IAAuC,UAAA,IAA9B,aAAO,KAAA,OAAO,GAAE,SAAK,CAAA,EAAA;gBAAA;aAAA;YAC9B,IAAwC,UAAA,IAA/B,aAAO,KAAA,QAAQ,GAAE,SAAK,CAAA,EAAA;gBAAA;aAAA;YAC/B,IAAyC,UAAA,IAAhC,aAAO,KAAA,SAAS,GAAE,SAAK,CAAA,EAAA;gBAAA;aAAA;YAChC,IAAuB,QAAA,IAAA,EAAA,IAAd,KAAA,IAAI,GAAA,CAAA;;;aAUX;aACA;;;mBADA,YAAQ,IAAI,EACZ,UAAM;;aAOR;aAAA,iBAAO;QACL,IAAI,CAAC,MAAM,CAAC,OAAO;IACrB;aACA;aAAA,kBAAQ;QACN,IAAI,CAAC,MAAM,CAAC,oBAAoB,CAAC,KAAK,EAAE,CAAC,EAAE,IAAC,QAAQ,MAAQ;YAC1D,IAAI,QAAQ;gBACV,IAAI,CAAC,IAAG,GAAI,+BAAS,OAAO,IAAI,CAAC;mBAC5B;gBACL,IAAI,CAAC,IAAG,GAAI,+BAAS;;QAEzB;;IACF;aACA;aAAA,mBAAS;QACP,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,KAAK,EAAE,GAAG,EAAE,IAAC,SAAS,MAAQ;YACtD,IAAI,SAAS;gBACX,IAAI,CAAC,IAAG,GAAI;mBACP;gBACL,IAAI,CAAC,IAAG,GAAI,+BAAS;;QAEzB;;IACF;;;;;;;;;;;;;;AAEH"}