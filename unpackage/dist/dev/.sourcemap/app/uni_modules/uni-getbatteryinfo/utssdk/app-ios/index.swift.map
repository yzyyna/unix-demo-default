{"version":3,"sources":["uni_modules/uni-getbatteryinfo/utssdk/app-ios/index.uts","uni_modules/uni-getbatteryinfo/utssdk/interface.uts"],"sourcesContent":["// 引用 iOS 原生平台 api\r\nimport { UIDevice } from \"UIKit\";\r\n\r\nimport { GetBatteryInfo, GetBatteryInfoSuccess, GetBatteryInfoResult, GetBatteryInfoSync } from '../interface.uts';\r\n/**\r\n * 导出 获取电量方法 \r\n */\r\nexport const getBatteryInfo : GetBatteryInfo = function (options) {\r\n\r\n    // 开启电量检测\r\n    UIDevice.current.isBatteryMonitoringEnabled = true\r\n\r\n    // 返回数据\r\n    const res : GetBatteryInfoSuccess = {\r\n        errMsg: \"getBatteryInfo:ok\",\r\n        level: Number(UIDevice.current.batteryLevel * 100),\r\n        isCharging: UIDevice.current.batteryState == UIDevice.BatteryState.charging,\r\n    };\r\n    options.success?.(res);\r\n    options.complete?.(res);\r\n}\r\n\r\nexport const getBatteryInfoSync : GetBatteryInfoSync = function (): GetBatteryInfoResult {\r\n\r\n    // 开启电量检测\r\n    UIDevice.current.isBatteryMonitoringEnabled = true\r\n\r\n    // 返回数据\r\n    const res : GetBatteryInfoResult = {\r\n        level: Number(UIDevice.current.batteryLevel * 100),\r\n        isCharging: UIDevice.current.batteryState == UIDevice.BatteryState.charging,\r\n    };\r\n\treturn res;\r\n}","export type GetBatteryInfoSuccess = {\n  errMsg: string,\n  /**\n  * 设备电量，范围1 - 100\n  */\n  level: number,\n  /**\n  * 是否正在充电中\n  */\n  isCharging: boolean\n}\n\nexport type GetBatteryInfoOptions = {\n  /**\n    * 接口调用结束的回调函数（调用成功、失败都会执行）\n    */\n  success?: (res: GetBatteryInfoSuccess) => void\n  /**\n    * 接口调用失败的回调函数\n    */\n  fail?: (res: UniError) => void\n  /**\n    * 接口调用成功的回调\n    */\n  complete?: (res: any) => void\n}\n\nexport type GetBatteryInfoResult = {\n  /**\n  * 设备电量，范围1 - 100\n  */\n  level: number,\n  /**\n  * 是否正在充电中\n  */\n  isCharging: boolean\n}\n\n/**\n * 错误码\n * - 1001 getAppContext is null\n */\nexport type GetBatteryInfoErrorCode = 1001 | 1002;\n/**\n * GetBatteryInfo 的错误回调参数\n */\nexport interface GetBatteryInfoFail extends IUniError {\n  errCode: GetBatteryInfoErrorCode\n};\n\n/**\n* 获取电量信息\n* @param {GetBatteryInfoOptions} options\n*\n*\n* @tutorial https://uniapp.dcloud.net.cn/api/system/batteryInfo.html\n* @platforms APP-IOS = ^9.0,APP-ANDROID = ^22\n* @since 3.6.11\n*\n* @assert () => success({errCode: 0, errSubject: \"uni-getBatteryInfo\", errMsg: \"getBatteryInfo:ok\", level: 60, isCharging: false })\n* @assert () => fail({errCode: 1001, errSubject: \"uni-getBatteryInfo\", errMsg: \"getBatteryInfo:fail getAppContext is null\" })\n*/\nexport type GetBatteryInfo = (options: GetBatteryInfoOptions) => void\n\n\nexport type GetBatteryInfoSync = () => GetBatteryInfoResult\n\ninterface Uni {\n\n  /**\n   * 获取电池电量信息\n   *\n   * @example\n   * ```typescript\n   * uni.getBatteryInfo({\n   *\t\tsuccess(res) {\n   *\t\t\t\n   *\t\t}\n   * })\n   * ```\n   * @remark\n   * - 该接口需要同步调用\n   * @uniPlatform {\n   *    \"app\": {\n   *        \"android\": {\n   *            \"osVer\": \"4.4.4\",\n   *            \"uniVer\": \"3.6.11\",\n   *            \"unixVer\": \"3.9.0\"\n   *        },\n   *        \"ios\": {\n   *            \"osVer\": \"12.0\",\n   *            \"uniVer\": \"3.6.11\",\n   *            \"unixVer\": \"4.11\"\n   *        },\n     *    \"harmony\": {\n     *      \"osVer\": \"3.0\",\n     *      \"uniVer\": \"4.23\",\n     *      \"unixVer\": \"x\"\n     *    }\n   *    },\n   *    \"web\": {\n   *      \"uniVer\": \"3.6.11\",\n   *      \"unixVer\": \"4.0\"\n   *    }\n   * }\n   * @uniVueVersion 2,3  //支持的vue版本\n   *\n   */\n  getBatteryInfo(options: GetBatteryInfoOptions): void,\n  /**\n   * 同步获取电池电量信息\n   *\n   * @example\n   * ```typescript\n   * uni.getBatteryInfo()\n   * ```\n   * @remark\n   * - 该接口需要同步调用\n   * @uniPlatform {\n   *    \"app\": {\n   *        \"android\": {\n   *            \"osVer\": \"4.4.4\",\n   *            \"uniVer\": \"3.6.11\",\n   *            \"unixVer\": \"3.9.0\"\n   *        },\n   *        \"ios\": {\n   *            \"osVer\": \"12.0\",\n   *            \"uniVer\": \"3.6.11\",\n   *            \"unixVer\": \"4.11\"\n   *        },\n     *    \"harmony\": {\n     *      \"osVer\": \"3.0\",\n     *      \"uniVer\": \"4.23\",\n     *      \"unixVer\": \"x\"\n     *    }\n   *    },\n   *    \"web\": {\n   *      \"uniVer\": \"3.6.11\",\n   *      \"unixVer\": \"4.0\"\n   *    }\n   * }\n   * @uniVueVersion 2,3  //支持的vue版本\n   *\n   */\n  getBatteryInfoSync(): GetBatteryInfoResult\n\n}\n"],"names":[],"mappings":";;AACA,YAAiC;ACDG;;aAAxB;;;;IACV,mBAAQ,MAAM,CAAC;IAIf,kBAAO,QAAM,CAAC;IAId,uBAAY,IAAO,QAAA;;;;;;;;;;;;;;;;;;;;;;wCARX,MAAM;sCAIP,QAAM;gDAID,IAAO;;;AAGe;;aAAxB;;;;IAIV,wBAAW,KAAK,0BAA0B,IAAI,EAAA;IAI9C,qBAAQ,KAAK,aAAa,IAAI,EAAA;IAI9B,yBAAY,KAAK,GAAG,KAAK,IAAI,EAAA;;;;;;;;;;;;;;;;;;;;;;8CARlB,KAAK,0BAA0B,IAAI;wCAItC,KAAK,aAAa,IAAI;gDAIlB,KAAK,GAAG,KAAK,IAAI;;;AAGI;;aAAvB;;;;IAIV,kBAAO,QAAM,CAAC;IAId,uBAAY,IAAO,QAAA;;;;;;;;;;;;;;;;;;;;sCAJZ,QAAM;gDAID,IAAO;;;iBA2BT,oBAAkB,SAAS,0BAA0B,IAAI;iBAGzD,2BAA2B;AD1DhC,WAAM,iCAAkC;CAAU,EAAA,OAAO;AAG5D,SAAS,OAAO,CAAC,0BAA0B,GAAG,IAAI;AAGlD,IAAM;IACF,CAAA,SAAQ;IACR,CAAA,QAAO,SAAO,SAAS,OAAO,CAAC,YAAY,GAAG,GAAG;IACjD,CAAA,aAAY,SAAS,OAAO,CAAC,YAAY,IAAI,SAAS,YAAY,CAAC,QAAQ;;AAE/E,QAAQ,OAAO,EAAG;AAClB,QAAQ,QAAQ,EAAG;;AAGhB,WAAM,yCAA0C;;AAGnD,SAAS,OAAO,CAAC,0BAA0B,GAAG,IAAI;AAGlD,IAAM;IACF,CAAA,QAAO,SAAO,SAAS,OAAO,CAAC,YAAY,GAAG,GAAG;IACjD,CAAA,aAAY,SAAS,OAAO,CAAC,YAAY,IAAI,SAAS,YAAY,CAAC,QAAQ;;AAElF,OAAO;;ACpB4B;;;IAIlC,WAAA,SAAQ,YAAsC;IAI9C,WAAA,MAAK,YAAyB;IAI9B,WAAA,UAAS,YAAoB;;iCAsCD,SAAS,oCAA0B,IAAI;;;SA9CxD,KAAK,0BAA0B,IAAI;yBAAnC;;;SAIH,KAAK,aAAa,IAAI;sBAAtB;;;SAII,KAAK,GAAG,KAAK,IAAI;0BAAjB;;;;wCAyCyB;;;;;;8CAHT,SAAS,oCAA0B,IAAI;kCAAvC;;qDAGS"}